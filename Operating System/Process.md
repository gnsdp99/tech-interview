> # Process

#### Q. Process

---

프로그램은 디스크에 실행 파일 형태로 저장된다.

프로세스는 메모리에 적재한 프로그램을 의미한다.

<br>

#### Q. PCB(Process Control Block)

---

모든 프로세스는 실행되기 위해 CPU 자원을 할당 받아야 한다.

하지만 CPU 자원이 한정되어 있기 때문에 프로세스들은 한정된 시간만큼만 CPU를 이용하고 다른 프로세스에게 넘겨주어야 한다.

이때 프로세스들을 운영체제가 관리하기 위해 프로세스의 정보를 저장하기 위해 PCB라는 자료구조를 이용한다.

각 프로세스의 PCB는 프로세스 생성 시 커널 영역에 생성되고, 프로세스 종료 시 삭제된다.

PCB에 저장되는 대표적인 정보는 다음과 같다.

- 프로세스 ID (PID)

- 레지스터 값

- 프로세스 상태

- CPU 스케줄링 정보

- 메모리 정보

- 사용한 파일과 입출력장치 정보

<br>

#### Q. Context Switching

---

PCB에 저장되는 데이터를 프로세스의 컨텍스트라고 한다.

프로세스 A를 실행 중이고, CPU 자원을 프로세스 B에게 넘겨 준다고 가정하자.

이때 프로세스 A의 컨텍스트를 프로세스 A의 PCB에 저장하고, 프로세스 B의 PCB로부터 컨텍스트를 불러오는 일련의 과정을 Context Switching이라고 한다.

<br>

#### Q. 프로세스의 메모리 영역

---

프로세스는 코드 영역, 데이터 영역, 힙 영역, 스택 영역으로 나뉘어 메모리에 저장된다.

- 코드 영역

  - 기계어로 이루어진 명령어가 저장되는 공간

  - 이미 컴파일된 명령어가 저장되는 곳이기 때문에 read-only

- 데이터 영역

  - 프로그램이 실행되는 동안 유지할 데이터가 저장되는 공간 (ex. 전역 변수)

- 힙 영역

  - 프로그램 실행 중에 사용자에 의해 동적으로 할당되는 공간

- 스택 영역

  - 함수와 관련된 일시적인 데이터가 저장되는 공간 (ex. 함수의 매개 변수, 지역 변수, 반환 주소값)

<br>

#### Q. 프로세스의 상태

---

프로세스의 상태는 일반적으로 다음과 같이 구분된다.

- New (생성)
  - 이제 막 메모리에 적재되어 PCB를 할당 받은 상태
- Ready (준비)
  - CPU를 할당 받아 실행할 수 있지만, 자신의 차례를 기다리는 상태
- Running (실행)

  - CPU를 할당 받아 실행 중인 상태

  - 할당된 시간을 모두 사용하면 Ready 상태가 됨

- Waiting (대기)

  - 실행 도중 입출력 작업이 발생하면 해당 작업이 끝날 때까지 대기 중인 상태

  - 입출력 작업이 CPU 작업에 비해 매우 느리기 때문에 끝날 때까지 기다릴 수 없음

  - 입출력 작업이 끝나면 Ready 상태가 됨

- Terminated (종료)

  - 프로세스가 종료되어 PCB와 메모리 영역을 정리한 상태

  ![프로세스의 상태](/images/process_state.png)

<br>

> 참조
>
> - 혼자 공부하는 컴퓨터 구조+운영체제 (강민철)
> - [완전히 정복하는 프로세스 vs 스레드 개념](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4?pidx=20)
